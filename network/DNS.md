# DNS

<mark>**DNS 또는 Domain Name System은 사람이 읽을 수 있는 도메인 이름을 머신이 읽을 수 있는 IP 주소로 변환**</mark>

일반적으로 우리는 웹사이트에 접속 할 때 외우기 어려운 IP 주소(예: 192.0.2.44) 대신 도메인 이름(예: www.amazon.com)을 사용한다.</br>

인터넷의 모든 장치는 고유한 IP 주소를 갖고 있지만, 인간이 기억하고 이해하기는 어렵다. 때문에 사용자가 입력한 도메인 이름을 장치가 읽을 수 있게 IP 주소로 변환해주는 과정이 필요한데</br>
이 일련의 시스템을 우리는 **DNS**라고 한다.



## 웹 페이지 로드와 관련된 4개의 DNS 서버

- DNS 리커서 서버 : 웹 브라우저와 같은 응용 프로그램을 통해 클라이언트 시스템에서 쿼리를 수신하도록 설계된 서버
- Root 네임 서버 : 루트 서버는 사람이 읽을 수 있는 <code>호스트 이름</code>을 <code>IP</code> 주소로 변환(해석)하는 첫 번째 단계
- TLD 네임 서버 : 최상위 도메인 서버는 특정 IP 주소 검색의 다음 단계이며, 호스트 이름의 마지막 부분(ex. .com)을 호스팅한다.
- 권한 있는 네임 서버 : 요청된 레코드에 엑세스할 수 있는 경우 요청된 호스트 이름의 IP 주소를 초기 요청을 한 DNS Recursor에 반환


## DNS 조회 8단계 (사용자가 도메인 이름으로 서버에 리소스 요청 시)



1. 사용자가 웹 브라우저에 'example.com'을 입력하면, 쿼리가 인터넷으로 이동하고 DNS 재귀 확인자(resolver)가 이를 수신.
2. resolver가 DNS 루트 이름 서버(.)를 쿼리.
3. 루트 서버가, 도메인에 대한 정보를 저장하는 최상위 도메인(TLD) DNS 서버(예: .com 또는 .net)의 주소로 확인자에 응답. example.com을 검색할 경우의 요청은 .com TLD를 가리킴.
4. 이제, 확인자가 .com TLD에 요청.
5. 이어서, TLD 서버가 도메인 이름 서버(example.com)의 IP 주소로 응답.
6. 마지막으로, 재귀 확인자가 도메인의 이름 서버로 쿼리.
7. 이제, example.com의 IP 주소가 이름 서버에서 확인자에게 반환됨.
8. 이어서, DNS 확인자가, 처음 요청한 도메인의 IP 주소로 웹 브라우저에 응답.  - 8단계
9. 브라우저가 IP 주소로 HTTP 요청을 보냄.
10. 해당 IP의 서버가 브라우저에서 렌더링할 웹 페이지를 반환
