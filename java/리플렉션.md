# ë¦¬í”Œë ‰ì…˜(Reflection) 
<mark>**ëŸ°í„°ì•” ì‹œì ì—ì„œ í´ë˜ìŠ¤ë‚˜ ê°ì²´ì˜ ì†ì„±ì´ë‚˜ ë©”ì†Œë“œë¥¼ ë™ì ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥**</mark>

ì´ ê¸°ëŠ¥ ë•ë¶„ì—, ê°œë°œìëŠ” ì½”ë“œì˜ ìœ ì—°ì„±ê³¼ í™•ì¥ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤. <code>java.lang.reflect</code>ë¥¼ í†µí•´ ë¦¬í”Œë™ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 

ì•„ë˜ëŠ” ë¦¬í”Œë ‰ì…˜ì˜ ëŒ€í‘œì ì¸ ì˜ˆì œì´ë‹¤.

```java
    Class clazz = Class.forName("java.lang.String");
    Method[] methods = clazz.getDeclaredMethods();
    for(Method method:methods){
            System.out.println(method.getName());
    }
```
- Class.forName("java.lang.String")ì€ String í´ë˜ìŠ¤ì— ëŒ€í•œ Class ê°ì²´ë¥¼ ê°€ì§€ê³  ì˜¨ë‹¤.
- getDeclaredMethods()ë¥¼ ì‚¬ìš©í•´ì„œ ê°€ì ¸ì˜¨ í´ë˜ìŠ¤ì— ì •ì˜ëœ ë©”ì†Œë“œ ì •ë³´ë¥¼ ì–»ì–´ëƒ„


</br>

## 1ï¸âƒ£ ë¦¬í”Œë ‰ì…˜ ì‚¬ìš© ì˜ˆì‹œ

### ğŸ“Œ Class
ìë°”ì—ì„œ í´ë˜ìŠ¤ ì •ë³´ë¥¼ ì ‘ê·¼í•˜ê¸° ìœ„í•´ í¬ê²Œ 3ê°€ì§€ ë¬¸ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```java
        // getClass() ë©”ì†Œë“œ ì‚¬ìš©
        String str = "Hello";
        Class clazz1 = str.getClass();

        // .class ë¬¸ë²• ì‚¬ìš©
        Class clazz2 = String.class;

        //Class.forName() ì‚¬ìš©
        Class<?> clazz3 = Class.forName("java.lang.String");

```

</br>

ì•„ë˜ì™€ ê°™ì´ classì— ì ‘ê·¼í•˜ì—¬ methodì™€ field ì •ë³´ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. 
```java
        Class<?> clazz = String.class;

        System.out.println("Class name : " + clazz.getName());

        Method[] methods = clazz.getDeclaredMethods();
        for (Method method : methods) {
            System.out.println("Method name: " + method.getName());
        }

        Field[] fields = clazz.getDeclaredFields();
        for (Field field : fields) {
            System.out.println("Field name: " + field.getName());
        }
        
        /* ê²°ê³¼

        Class name : java.lang.String
        Method name: value
        Method name: equals
        Method name: length
        .
        .
       Field name: value
       Field name: coder
       Field name: hash
        */

```

</br>

### ğŸ“Œ Constructor
ë¦¬í”Œë ‰ì…˜ì„ ì‚¬ìš©í•˜ì—¬ í´ë˜ìŠ¤ì˜ ìƒì„±ì ì ‘ê·¼í•˜ì—¬ ê°ì²´ ë™ì  ìƒì„±

- <code>getConstructor()</code>: public ìƒì„±ìì— ì ‘ê·¼í•  ë•Œ ì‚¬ìš©
- <code>getDeclaredConstructor()</code>: í´ë˜ìŠ¤ì— ì„ ì–¸ëœ ëª¨ë“  ìƒì„±ìì— ì ‘ê·¼í•  ë•Œ ì‚¬ìš©

```java
class Sample{
    public Sample(){

    }

    private Sample(String msg){

    }

}

public class Main {
    public static void main(String[] args) throws Exception {

        Class<?> clazz = Sample.class;

        Constructor<?> publicConstructor = clazz.getConstructor();
        Constructor<?> privateConstructor = clazz.getDeclaredConstructor(String.class);

        // private constructor can be access
        privateConstructor.setAccessible(true);



    }

}

```

</br>

Constructor ê°ì²´ì˜ newInstance()ë¥¼ í†µí•´ì„œ ê°ì²´ë¥¼ ìƒì„± 
```java
        Sample s1 = (Sample) publicConstructor.newInstance();
        Sample s2 = (Sample) privateConstructor.newInstance("arg");
```

</br>

### ğŸ“Œ Field
ë¦¬í”Œë ‰ì…˜ì„ ì‚¬ìš©í•˜ë©´ í´ë˜ìŠ¤ì˜ í•„ë“œ(ë©¤ë²„ ë³€ìˆ˜)ì— í”„ë¡œê·¸ë˜ë°ì ìœ¼ë¡œ ì ‘ê·¼í•˜ê³  ì¡°ì‘í•˜ëŠ” ë°©ë²• 
- <code>getField()</code>: public í•„ë“œì— ì ‘ê·¼í•  ë•Œ ì‚¬ìš©
- <code>getDeclaredField()</code>: í´ë˜ìŠ¤ì— ì„ ì–¸ëœ ëª¨ë“  í•„ë“œì— ì ‘ê·¼í•  ë•Œ ì‚¬ìš©

```java
class Sample{
    public int name;
    private String pn;

}

public class Main {
    public static void main(String[] args) throws Exception {

        Class<?> clazz = Sample.class;

        Field publicField = clazz.getField("name");
        Field privateField = clazz.getDeclaredField("pn");
        
        // private field can be access
        privateField.setAccessible(true);

    }

}

```

</br>

ê·¸ë¦¬ê³  ì•„ë˜ì™€ ê°™ì´ í•„ë“œì— ì ‘ê·¼í•˜ì—¬ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.

```java
        Sample sample = new Sample();

        // read public field
        int publicFieldValue = (Integer) publicField.get(sample);
        System.out.println("Public Field value: " + publicFieldValue);

        // read private field
        String privateFieldValue = (String) privateField.get(sample);
        System.out.println("Private Field Value: " + privateFieldValue);

        // correct field value
        publicField.set(sample, 10);
        privateField.set(sample, "Hello World");

```

</br>

### ğŸ“Œ Method
ë¦¬í”Œë ‰ì…˜ì„ ì‚¬ìš©í•˜ë©´ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œì— ì ‘ê·¼í•˜ê³  ì‹¤í–‰í•˜ëŠ” ë°©ë²•

- <code>getMethod()</code>: public ë©”ì„œë“œì— ì ‘ê·¼í•  ë•Œ ì‚¬ìš©
- <code>getDeclaredMethod()</code>: í´ë˜ìŠ¤ì— ì„ ì–¸ëœ ëª¨ë“  ë©”ì„œë“œì— ì ‘ê·¼í•  ë•Œ ì‚¬ìš©

```java
class Sample {
    public void doSomething() {
        System.out.println("do Something");

    }

    private void doPrivateSomething(String name) {
        System.out.println("do private Something" + " " + name);
    }

}

public class Main {
    public static void main(String[] args) throws Exception {

        Class<?> clazz = Sample.class;

        Method pMethod = clazz.getMethod("doSomething");
        Method priMethod = clazz.getDeclaredMethod("doPrivateSomething", String.class);

        //access private method
        priMethod.setAccessible(true);
        
    }

}


```

</br>

ê·¸ë¦¬ê³  ì•„ë˜ì™€ ê°™ì´ <code>invoke()</code> ë©”ì„œë“œë¥¼ í†µí•´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. (invoke ë©”ì„œë“œë¥¼ ì‹¤í–‰í•  ê°ì²´ì™€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì „ë‹¬í•´ì•¼ í•¨) 

```java

Sample s = new Sample();

//public method
pMethod.invoke(s);

//private method
priMethod.invoke(s, "msg");

```


</br>

## 2ï¸âƒ£ ë¦¬í”Œë ‰ì…˜ ì¥ë‹¨ì 


### ğŸ“Œ ì¥ì 
- í”„ë¡œê·¸ë¨ì˜ ìœ ì—°ì„±ì„ ë†’ì—¬ì¤€ë‹¤. 
- í”„ë ˆì„ì›Œí¬ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°œë°œ ì‹œ ë§¤ìš° ìœ ìš© => ëŸ°íƒ€ì„ì— í´ë˜ìŠ¤ ì •ë³´ë¥¼ ì–»ê±°ë‚˜, ê°ì²´ë¥¼ ì¡°ì‘í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—

</br>


### ğŸ“Œ ë‹¨ì 
- ëŸ°íƒ€ì„ì— í´ë˜ìŠ¤ë¥¼ ë¶„ì„í•˜ë¯€ë¡œ ì„±ëŠ¥ ì €í•˜
- ì»´íŒŒì¼ ì‹œì ì— ê°€ëŠ¥í•œ íƒ€ì… í™•ì¸ì´ ë¶ˆê°€ëŠ¥
- ì¬ê·€ì ì¸ ì ‘ê·¼ì„ í•„ìš”ë¡œ í•˜ëŠ” ì½”ë“œëŠ” ê°€ë…ì„± ë–¨ì–´ì§

</br>

> ë¦¬í”Œë™ì…˜ì€ ë³´í†µì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ í”„ë ˆì„ì›Œí¬ë¥¼ ê°œë°œí•  ë•Œ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤. </br>
> ê·¸ëŸ¬ë¯€ë¡œ <mark>ìš°ë¦¬ëŠ” ì •ë§ í•„ìš”í•œ ê³³ì—ë§Œ ë¦¬í”Œë ‰ì…˜ì„ í•œì •ì ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</mark>

</br>


## 3ï¸âƒ£ ë¦¬í”Œë ‰ì…˜ ì‹¤ì œ ì‚¬ìš© ì˜ˆì œ
1. Spring Framework : ë¦¬í”Œë ‰ì…˜ì„ ì´ìš©í•´ì„œ ì˜ì¡´ì„± ì£¼ì…(DI) êµ¬í˜„
2. Hibernate : ë¦¬í”Œë ‰ì…˜ì„ ì‚¬ìš©í•´ ê°ì²´ì™€ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ê°„ì˜ ë§¤í•‘ì„ ë™ì  ì²˜ë¦¬
3. JUnit : ë¦¬í”Œë ‰ì…˜ì„ í™œìš©í•´ì„œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë™ì ìœ¼ë¡œ ë¡œë“œ ë° ì‹¤í–‰

</br>
