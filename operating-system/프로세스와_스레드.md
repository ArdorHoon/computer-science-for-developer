# 프로세스와 스레드

## 1️⃣ Program
<mark>**어떤 작업을 위해 실행할 수 있는 파일**</mark>
</br>


## 2️⃣ Process
<img src="https://github.com/user-attachments/assets/336b06e5-5975-4fda-95e4-55d42ea43595" width="40%" height="40%"></br>

<mark>**컴퓨터에서 연속적으로 실행되고 있는 컴퓨터 프로그램**</mark>
- 메모리에 올라와 실행되고 있는 프로그램의 인스턴스
- 운영체제로부터 시스템 자원을 할당받는 작업의 단위
</br>
  
   
### 📌 Process 특징
- 프로세스는 각각 독립된 메모리 영역 (Code, Data, Stack, Heap) 을 가짐
- 프로세스당 최소 1개의 스레드를 가짐
- 프로세스가 다른 프로세스에 접근하려면 IPC(프로세스 간 통신)을 사용해야함
  

## 3️⃣ Thread
<img src="https://github.com/user-attachments/assets/df11d393-6536-4c60-b36e-91b7303fc530" width="40%" height="40%"></br>

<mark>**프로세스 내에서 실행되는 여러 흐름의 단위**</mark>
- 스레드는 프로세스 내에서 Stack만 할당받고 Code, Data, Heap 영역 공유
- 같은 프로세스 안에 있는 여러 스레드들은 같은 힙공간을 공유한다.
</br>


## 4️⃣ 멀티 프로세스
<mark>**하나의 응용 프로그램을 여러 개의 프로세스로 구성하여 각 프로세스가 하나의 작업을 처리하도록 하는 것**</mark>

### 📌 장점
- 여러 개의 자식 프로세스 중 하나에 문제가 발생해도 그 자식 프로세스만 죽고 다른 프로세스에 영향을 끼치지 않음

### 📌 단점 
- Context Swiching 과정에서 오버헤드가 발생한다.
- 프로세스 사이의 통신 기법 (IPC)가 어렵다.
</br>


## 5️⃣ 멀티 스레드 
<mark>**하나의 응용프로그램을 여러 개의 스레드로 구성하고 각 스레드로 하여금 하나의 작업을 처리하도록 하는 것**</mark>

Web Server는 대표적인 멀티 스레드 응용 프로그램이다.

### 📌 장점
- 시스템 자원의 효율성 증대
    - 프로세스를 생성하여 자원을 할당하는 시스템 콜이 줄어서 자원을 효율적으로 관리
- 시스템 처리량 증가
    - 스레드 간 데이터를 주고받는 것이 간단해지고 자원 소모가 줄어듬
    - Context Switching이 빠름

### 📌 단점 
- 멀티 스레드의 경우 자원 공유의 문제가 발생 (동기화문제)
- 하나의 스레드에 문제가 발생하면 전체 프로세스가 영향을 받음
</br>

## 6️⃣ 멀티 프로세스 대신 멀티 스레드를 사용하는 이유
1. **자원의 효율성 증대**
   - 프로세스 간의 Context Switching이 CPU 레지스터 교체 뿐만 아니라 CPU와 RAM 사이의 Cache 메모리에 대한 데이터까지 초기화하여 Overhead가 큼
   - 스레드는 프로세스 내의 메모리를 공유하기 때문에 독립적인 프로세스와 달리 스레드 간의 데이터를 주고 받는 것이 간단해지고 시스템 자원 소모가 줄어듬 (Mutex, Semaphore)

3. **처리비용 감소 및 응답 시간 단축**
   - 프로세스간의 통신 (IPC)보다 스레드 간의 통신 비용이 적음
   - 프로세스 간의 전환 속도보다 스레드 간의 전환 속도가 빠르다.
